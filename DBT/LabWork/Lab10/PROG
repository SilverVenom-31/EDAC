				DELIMITER //
				
				DROP PROCEDURE IF EXISTS HRDATABASE_TABLE //
				
				CREATE PROCEDURE HRDATABASE_TABLE()
				BEGIN
				
				DECLARE STR,STR1 VARCHAR(200);
				DECLARE X,Y,Z,L INT DEFAULT 0;
				
				DECLARE HRDATABASE_TABLE CURSOR
							FOR SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE  TABLE_SCHEMA = 'humanresource';
				DECLARE HRDATABASE_TABLE_CONST CURSOR
							FOR SELECT DISTINCT TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE  TABLE_SCHEMA = 																	'humanresource';
							
				SELECT COUNT(*) INTO Y FROM INFORMATION_SCHEMA.TABLES WHERE  TABLE_SCHEMA = 'humanresource';
				
				SELECT COUNT(*) INTO Z FROM 
				(SELECT DISTINCT TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE  TABLE_SCHEMA = 'humanresource') U;
				
				CREATE TEMPORARY TABLE EMP_T(NAME VARCHAR(200));
				SET L = Z;		
				OPEN HRDATABASE_TABLE;
				
				L_LEVEL: LOOP
				
					IF Y <= 0 THEN 
							LEAVE L_LEVEL;
					END IF;
					FETCH HRDATABASE_TABLE INTO STR;
				OPEN HRDATABASE_TABLE_CONST;
				L_CONLEVEL: LOOP
						IF Z <= 0 or X=1 THEN 
							LEAVE L_CONLEVEL;
						END IF;
							
						FETCH HRDATABASE_TABLE_CONST INTO STR1;
						IF STR = STR1 THEN
							set X=1;
							
						END IF;
						SET Z = Z - 1;
				END LOOP L_CONLEVEL;
					if X=0 then
					insert into EMP_T values(STR);
					else 
					set X=0;
					end if;
					
					SET Z = L;
					SET Y = Y - 1;
				CLOSE HRDATABASE_TABLE_CONST;
				
				END LOOP L_LEVEL;
				
				CLOSE HRDATABASE_TABLE;
				
				SELECT * FROM EMP_T;	
				drop table EMP_T;	
				
				END //
				
				DELIMITER ;
				
			
			
			
			call HRDATABASE_TABLE();
